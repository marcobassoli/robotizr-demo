<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Robotizr Cloud - Demo version</title>
    <link rel="icon" type="image/png" href="/img/favicon.svg">
    <script src="https://unpkg.com/blockly/blockly.min.js"></script>
    <script src="https://unpkg.com/@blockly/dev-tools@2.0.0/dist/index.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    <script src="app-demo.js"></script>
    <script src="cookie-banner.js"></script>
    <link rel="stylesheet" href="toolbox_style.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous">

    <!-- REGISTER SERVICE WORKER -->
    <script>
        navigator.serviceWorker.register("service-worker.js")
            .then((reg) => { /* OK */ })
            .catch((err) => {
                console.error(err);
            });
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-V72RWR296P"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-V72RWR296P');
    </script>
    <!-- Hotjar Tracking Code for https://www.robotizr.com -->
    <script>
        (function(h, o, t, j, a, r) {
            h.hj = h.hj || function() {
                (h.hj.q = h.hj.q || []).push(arguments)
            };
            h._hjSettings = {
                hjid: 2974045,
                hjsv: 6
            };
            a = o.getElementsByTagName('head')[0];
            r = o.createElement('script');
            r.async = 1;
            r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
            a.appendChild(r);
        })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
    </script>
</head>

<body onload="start()">
    <!-- <body> -->
    <table>
        <tr>
            <td>
                <nav class="navbar">
                    <div class="shadow-sm container-fluid">
                        <a class="navbar-brand" href="#">
                            <img src="img/logo.svg" alt="Robotizr logo image" class="d-inline-block align-text-center logo-img">
                            <span class="app-title ps-3 pe-1">Robotizr Cloud - Demo version</span>
                        </a>
                        <!-- <button class="shadow-sm btn btn-outline-primary d-flex" id="connectBtn">Connetti</button> -->
                    </div>
                </nav>
            </td>
        </tr>
        <tr>
            <td id="blocklyArea">
                <!-- Blockly area -->
            </td>
        </tr>
        <tr>
            <td>
                <div class="row bottom-bar pb-2 justify-content-center">
                    <button type="button" class="mx-1 shadow btn btn-outline-primary btn-circle btn-xl" data-bs-toggle="tooltip" data-bs-title="Avvia" id="playBtn">
                        <i class="bi bi-play-fill control-icon"></i>
                    </button>
                    <button type="button" class="mx-1 shadow btn btn-outline-primary btn-circle btn-xl" data-bs-toggle="tooltip" data-bs-title="Pausa" id="pauseBtn">
                        <i class="bi bi-pause-fill control-icon"></i>
                    </button>
                    <button type="button" class="mx-1 shadow btn btn-primary btn-circle btn-xl" data-bs-toggle="tooltip" data-bs-title="Stop" id="stopBtn">
                        <i class="bi bi-stop-fill control-icon"></i>
                    </button>
                    <input type="file" id="loadBtn" style="display: none;" accept=".rbz" />
                    <button type="button" class="mx-1 shadow btn btn-outline-primary btn-circle btn-xl" onclick="document.getElementById('loadBtn').click();" data-bs-toggle="tooltip" data-bs-title="Richiama programma">
                          <i class="bi bi-upload control-icon"></i>
                    </button>
                    <button type="button" class="mx-1 shadow btn btn-outline-primary btn-circle btn-xl" data-bs-toggle="tooltip" data-bs-title="Salva programma" id="saveBtn">
                          <i class="bi bi-download control-icon"></i>
                    </button>
                    <button type="button" class="mx-1 shadow btn btn-outline-primary btn-circle btn-xl" data-bs-toggle="tooltip" data-bs-title="Connetti ad Edge" id="connectBtn">
                          <i class="bi bi-usb-symbol control-icon"></i>
                    </button>
                </div>
            </td>
        </tr>
    </table>

    <!-- Cookie Banner -->
    <div id="cb-cookie-banner" class="alert alert-dark text-center mb-0" role="alert">
        üç™ Questo sito usa cookies per assicurarti la migliore esperienza d'uso.
        <a href="/gdpr.html" target="blank">Scopri di pi√π</a>
        <button type="button" class="btn btn-primary btn-sm ms-3" onclick="window.cb_hideCookieBanner()">Ok</button>
    </div>
    <!-- End of Cookie Banner -->
    <script type="text/javascript">
        $(window).on('load', function() {
            initializeCookieBanner();
            $('#demoStartupWarningModal').modal('show');
        });
    </script>


    <div id="blocklyDiv" style="position: absolute"></div>
    <!-- Toolbox Definition -->
    <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox-categories" style="display: none">
        <category name="Azionamenti" colour="#1C6DD0">
            <block type="motor_sequence"></block>
            <block type="drive_forward_backward_sequence_xyz"></block>
            <block type="rotate_axis_sequence"></block>
            <block type="tool_sequence"></block>
            <block type="digital_output_sequence"></block>
            <block type="drive_pause_sequence"></block>
        </category>
        <category name="Segnalazioni" colour="#ffc107">
            <block type="lamp_sequence"></block>
            <block type="sound_sequence"></block>
        </category>
        <category name="Condizioni" colour="#4c4c4c">
            <block type="conj_block"></block>
            <block type="time_condition"></block>
            <block type="sensor_onoff_condition"></block>
            <block type="pushbutton_condition"></block>
            <block type="conj_and"></block>
            <block type="conj_or"></block>
        </category>
        <category name="Controlli" colour="#4c4c4c">
            <block type="control_if"></block>
            <block type="control_loop"></block>
            <block type="control_loop_n_times"></block>
        </category>
        <category name="Gruppi" custom="COLOUR_PALETTE" colour="#ff5722">
            <block type="actions_group"></block>
        </category>
    </xml>

    <!-- Modals -->
    <div class="modal fade" id="demoStartupWarningModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="demoStartupWarningModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="demoStartupWarningModalLabel">Benvenuto</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="OK"></button>
                </div>
                <div class="modal-body">
                    <p>Questa √® la <strong>versione dimostrativa di Robotizr Cloud</strong>. Testa tu stesso la semplicit√† con cui √® possibile progettare un'automazione industriale. </p>
                    <br>
                    <p>Cosa puoi fare qui:</p>
                    <ul>
                        <li>Definire un'automazione partendo dal blocco "Sequenza azioni" che trovi in "Azionamenti";</li>
                        <li>Salvare e richiamare un programma salvato, in modo da non perdere mai il tuo lavoro.</li>
                    </ul>
                    <br>
                    <p>Limitazioni della versione di prova:</p>
                    <ul>
                        <li>Non puoi connetterti a un macchinario via USB attraverso il tasto <i class="bi bi-usb-symbol"></i>;</li>
                        <li>Di conseguenza, non puoi avviare il programma che andrebbe scritto sul macchinario.</li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" id="startModal" class="btn btn-primary" data-bs-dismiss="modal">Inizia</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="demoWarningModal" tabindex="-1" aria-labelledby="demoWarningModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="demoWarningModalLabel">Versione Demo</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="OK"></button>
                </div>
                <div class="modal-body">
                    Questa funzionalit√† non √® supportata nella versione demo del prodotto.
                    <a href="https://www.robotizr.com/book-a-demo/">Contattaci per saperne di pi√π.</a>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>